define(function(){return{destroy:function(){for(var a in this)delete this[a];this._alive=0},addEventListener:function(a,c){this.listeners||(this.listeners={});(this.listeners[a]=this.listeners[a]||[]).push(c)},removeEventListener:function(a,c){if(this.listeners)if(c)for(var b=0,d=this.listeners[a],e=d&&d.length||0;b<e;b++)d[b]===c&&d.splice(b,1);else delete this.listeners[a]},fireEvent:function(a,c){for(var b=0,d=this._modifiers&&this._modifiers[a],e=this.listeners&&this.listeners[a],f=d&&d.length,
g=require.mix({source:this,type:a},c);b<f;)d[b++].call(this,g);if(e){e=[].concat(e);b=0;for(f=e.length;b<f;)e[b++].call(this,g)}},_addEventModifier:function(a,c){this._modifiers||(this._modifiers={});(require.is(a,"Array")?a:[a]).forEach(function(a){(this._modifiers[a]=this._modifiers[a]||[]).push(c)},this)}}});