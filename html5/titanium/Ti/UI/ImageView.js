define("Ti/_/declare,Ti/_/event,Ti/_/lang,Ti/_/style,Ti/_/UI/Widget,Ti/UI,Ti/Filesystem".split(","),function(j,n,o,p,k,i,l){var g=p.set,m=require.is,h=require.on,q=j(k,{domType:"img",onload:null,onerror:null,constructor:function(){this.domNode.ondragstart=function(){return!1}},_getContentSize:function(){return{width:this.domNode.width,height:this.domNode.height}},_preLayout:function(a,b,e,f){this.domNode.style.width="";this.domNode.style.height="";var c=this.domNode.width/this.domNode.height,d=this.properties.__values__,
g=d.width,h=d.height;!e&&!f?a/b>c?(d.width=b*c,d.height=b):(d.width=a,d.height=a/c):e?f?(d.width=i.SIZE,d.height=i.SIZE):(d.width=b*c,d.height=b):(d.width=a,d.height=a/c);return g!==d.width||h!==d.height},_imageRatio:1,properties:{src:{set:function(a){var b=this.domNode,e="none",f,c=o.hitch(this,function(a){n.off(f);this._triggerLayout();this.onerror&&this.onerror(a)});a&&(e="inherit",f=[h(b,"load",this,function(){b.style.width="";b.style.height="";var a=b.width/b.height;isNaN(a)&&(a=0===b.width?
1:Infinity);this._imageRatio=a;this._triggerLayout();this.onload&&this.onload()}),h(b,"error",c),h(b,"abort",c)],b.src=require.cache(a)||a);g(b,"display",e);return a}}}});return j("Ti.UI.ImageView",k,{_createImage:function(a,b,e){var f=m(a,"String")&&a.match(/^(.+)\:\/\//);f&&~l.protocols.indexOf(f[1])&&(a=l.getFile(a));switch(a&&a.declaredClass){case "Ti.Filesystem.File":a=a.read();case "Ti.Blob":a=a.toString()}return new q({onload:b,onerror:e,src:a})},_defaultWidth:i.SIZE,_defaultHeight:i.SIZE,
_slideshowCount:0,_setSlideshowInterval:function(){var a=this,b=a._images;clearInterval(this._slideshowTimer);this._slideshowTimer=setInterval(function(){var e=!1;g(b[a._currentIndex].domNode,"display","none");a.reverse?0===--a._currentIndex&&(a._currentIndex=a.images.length-1,e=!0):++a._currentIndex===a.images.length&&(a._currentIndex=0,e=!0);g(b[a._currentIndex].domNode,"display","inherit");a.repeatCount&&e&&++a._slideshowCount===a.repeatCount?a.stop():a.fireEvent("change",{index:a._currentIndex})},
this.duration)},start:function(){this._images&&(this._setState(0,1),this._slideshowCount=0,this._setSlideshowInterval(),this.fireEvent("start"))},stop:function(){var a=this._images;if(a){clearInterval(this._slideshowTimer);if(a.length){var b=0;this.reverse&&(b=a.length-1);this._currentIndex&&g(a[this._currentIndex].domNode,"display","none");g(a[b].domNode,"display","inherit");this._currentIndex=b}this._setState(0,0);this.fireEvent("stop")}},pause:function(){this._images&&(clearInterval(this._slideshowTimer),
this._setState(1,0),this.fireEvent("pause"))},resume:function(){this._images&&(this._setSlideshowInterval(),this._setState(0,1))},_setState:function(a,b){this.constants.paused=!!a;this.constants.animating=!!b},constants:{animating:!1,paused:!1},properties:{duration:30,image:{set:function(a){this._removeAllChildren();this._images=void 0;this._add(this._createImage(a,function(){this.fireEvent("load",{state:"image"})},function(a){this.fireEvent("error",a)}));return a}},images:{set:function(a){var b=
void 0,e=0,f=0;this._removeAllChildren();m(a,"Array")&&(b=[],a.forEach(function(c){c=this._createImage(c,function(){!f&&++e===a.length&&this.fireEvent("load",{state:"image"})},function(a){f||(f=1)&&this.fireEvent("error",a)});g(c.domNode,"display","none");b.push(c);this._add(c)},this));this._images=b;return a},post:function(){this.stop()}},repeatCount:0,reverse:!1}})});