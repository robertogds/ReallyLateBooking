(function(){root.countriesDate=new Date;root.listCountries=void 0;root.xhrCountries=Titanium.Network.createHTTPClient();root.xhrCountries.onload=function(){Ti.API.info(this.responseText);root.listCountries=JSON.parse(this.responseText);root.populateCountriesTable(root.listCountries);if(root.isGPS)return root.gpsFetchCities()};root.xhrCountries.onerror=function(){root.hideLoading(root.countriesWindow);return root.showError(root.countriesWindow)};root.fetchCountries=function(){var a;if(!1===Titanium.Network.online)return Ti.UI.createAlertDialog({title:"ReallyLateBooking",
message:L("mustInternet")}).show(),root.showError(root.countriesWindow);a=(new Date).getTime()-root.countriesDate.getTime();Ti.API.info("last countries updated: "+root.countriesDate.toLocaleDateString()+"difftime: "+a);if(void 0===root.listCountries||864E5<a||0===root.listCountries.length)return Ti.API.info("Fetch the list of Countries calling internet"),root.xhrCountries.setTimeout(15E3),root.showLoading(root.countriesWindow),root.xhrCountries.open("GET",root.url+"/countries"),root.xhrCountries.setRequestHeader("Accept-Language",
Titanium.Locale.currentLanguage),root.xhrCountries.send();Ti.API.info("Not necceseary call internet for fetching Countries");return root.populateCountriesTable(root.listCountries)}}).call(this);