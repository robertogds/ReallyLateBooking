define(["Ti/_/declare","Ti/_/UI/KineticScrollView","Ti/_/style","Ti/_/lang","Ti/UI"],function(j,k,m,l,c){var f=l.isDef;return j("Ti.UI.ScrollView",k,{constructor:function(){this._initKineticScrollView(c.createView({width:c.SIZE,height:c.SIZE,_minWidth:"100%",_minHeight:"100%",left:0,top:0}),"both","both",1)},_handleMouseWheel:function(){this._isScrollBarActive&&this.fireEvent("scroll",{x:-this._currentTranslationX,y:-this._currentTranslationY,dragging:!1,decelerating:!1})},_handleDragStart:function(){this.fireEvent("dragStart")},
_handleDrag:function(){this.fireEvent("scroll",{x:-this._currentTranslationX,y:-this._currentTranslationY,dragging:!0,decelerating:!1})},_handleDragEnd:function(a,b,e){if(f(b)){var d=this,c=Math.sqrt(b*b+e*e),a=c*c/0.001724,c=c/0.0010,g=Math.atan(Math.abs(e/b)),b=a*Math.cos(g)*(0>b?-1:1),e=a*Math.sin(g)*(0>e?-1:1),h=Math.min(0,Math.max(d._minTranslationX,d._currentTranslationX+b)),i=Math.min(0,Math.max(d._currentTranslationY+e));d.fireEvent("dragEnd",{decelerate:!0});d._animateToPosition(h,i,c,"ease-out",
function(){d._setTranslation(h,i);d._endScrollBars();d.fireEvent("scrollEnd")})}},scrollTo:function(a,b){self._setTranslation(null!==a?-a:this._currentTranslationX,null!==b?-b:this._currentTranslationX)},_defaultWidth:c.FILL,_defaultHeight:c.FILL,_getContentOffset:function(){return this.contentOffset},_preLayout:function(){var a=this._contentContainer.layout===this.layout;this._contentContainer.layout=this.layout;return a},add:function(a){this._contentContainer._add(a);this._publish(a)},remove:function(a){this._contentContainer.remove(a);
this._unpublish(a)},properties:{contentHeight:{get:function(){return this._contentContainer.height},set:function(a){return this._contentContainer.height=a}},contentOffset:{get:function(){return{x:-this._currentTranslationX,y:-this._currentTranslationY}},set:function(a){this._setTranslation(f(a.x)?-a.x:this._currentTranslationX,f(a.y)?-a.y:this._currentTranslationY);return a}},contentWidth:{get:function(){return this._contentContainer.width},set:function(a){return this._contentContainer.width=a}},
disableBounce:!1,horizontalBounce:{set:function(a){return this._horizontalElastic=a},value:!0},showHorizontalScrollIndicator:{set:function(a,b){a!==b&&(a?this._createHorizontalScrollBar():this._destroyHorizontalScrollBar());return a},value:!0},showVerticalScrollIndicator:{set:function(a,b){a!==b&&(a?this._createVerticalScrollBar():this._destroyVerticalScrollBar());return a},value:!0},verticalBounce:{set:function(a){return this._verticalElastic=a},value:!0}}})});