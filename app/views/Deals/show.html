#{extends 'CRUD/layout.html' /}
%{
    def keyVal = play.modules.crudsiena.SienaUtils.findKey(object)
  }%
<div id="crudShow" class="${type.name}">
	
	<h2 id="crudShowTitle">&{'crud.show.title', type.modelName}</h2>
	
	<div class="objectForm">
	#{form action:@save(keyVal), enctype:'multipart/form-data'}
		#{crud.form}
		#{crud.custom 'city'}
				    <label for="object_author">
				        &{'city'}
				    </label>
				    <select id="object_city" name="object.city.id">
				          <option value="">(Please select a value)</option>
				         #{list items:models.City.all().fetch(), as:'city'}
				          	<option value="${city.id}"  ${object.city.id == city.id ? 'selected':''}>${city.name}</option>
						 #{/list}
				    </select>
		    #{/crud.custom}
		    
	    #{/crud.form}
		<p class="crudButtons">
			<input type="submit" name="_save" value="&{'crud.save', type.modelName}" />
			<input type="submit" name="_saveAndContinue" value="&{'crud.saveAndContinue', type.modelName}" />
		</p>
	#{/form}
	</div>
	
	#{form @delete(keyVal)}
		<p class="crudDelete">
			<input type="submit" value="&{'crud.delete', type.modelName}" />
		</p>
	#{/form}

</div>