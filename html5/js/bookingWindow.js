(function(){root.showConfirmBooking=function(){root.hotelLabel.text=root.deal.hotelName;root.hotelAddress.text=root.deal.address;root.priceLabel.text=root.deal.salePriceCents+" \u20ac";root.priceFinal=root.deal.salePriceCents-root.totalCredit;1>root.priceFinal&&(root.priceFinal=0);root.priceFinalLabel.text=root.priceFinal+" \u20ac";root.priceCreditsLabel.text=root.totalCredit+" \u20ac";root.checkinDate=new Date(root.deal.checkinDate);root.checkoutDate=new Date(root.checkinDate.getTime()+864E5);root.checkinLabel.text=
root.getLocaleDateString(root.checkinDate);root.checkoutLabel.text=root.getLocaleDateString(root.checkoutDate);Ti.API.info("*** Abre la pantalla de bookingWindow");root.regimenLabel.text=!0===root.deal.breakfastIncluded?L("breakfastYes"):L("breakfastNo");return root.tabGroup.tabs[root.dealsTab.pos].open(root.confirmBookingWindow,{animated:!0})};root.confirmBookingWindow.addEventListener("focus",function(){Ti.API.info("Entra en confirmBooking");null===root.bookingForFirstName||void 0===root.bookingForFirstName?
(Ti.API.info("bookingForFirstName is null"),root.bookingForEmail=root.user.email,root.bookingForFirstName=root.user.firstName,root.bookingForLastName=root.user.lastName,root.bookingForEmailLabel.text=root.user.email,root.bookingForNameLabel.text=root.user.firstName+" "+root.user.lastName):(Ti.API.info("bookingforfirstname isnt null: "+root.bookingForFirstName),root.bookingForNameLabel.text=root.bookingForFirstName+" "+root.bookingForLastName,root.bookingForEmailLabel.text=root.bookingForEmail);Titanium.App.Properties.hasProperty("creditCard")&&
(root.creditCard=JSON.parse(Titanium.App.Properties.getString("creditCard")),root.cardTypeLabel.text=root.creditCard.type,root.cardNumberText.value=root.creditCard.number,root.cardNameText.value=root.creditCard.name,root.expireMonthText.value=root.creditCard.expireMonth,root.expireYearText.value=root.creditCard.expireYear,root.cvcCodeText.value=root.creditCard.cvc);root.priceLabel.text=root.totalPrice+" \u20ac";root.totalLabel.text=1<root.bookingNights?L("total")+" "+root.bookingNights+" "+L("nights"):
L("total")+" 1 "+L("night");root.checkoutLabel.text=root.getLocaleDateString(root.checkoutDate);Ti.API.info("************** "+root.cardNumberText.value);null===root.cardNumberText.value||10>root.cardNumberText.value?(Ti.API.info("************** ENTRA EN NO HAY TIPO DE TARJETA"),root.paymentLabel.text=L("noPaymentInfo")):root.paymentLabel.text=L("creditCard")+":  "+root.cardTypeLabel.text+"   "+root.cardNumberText.value;root.priceFinal=root.totalPrice-root.totalCredit;1>root.priceFinal&&(root.priceFinal=
0);root.priceFinalLabel.text=root.priceFinal+" \u20ac";root.priceCreditsLabel.text=root.totalCredit+" \u20ac";return Ti.API.info("Sale bookingWindow focus >>>>>>>>")})}).call(this);