define("Ti/_/declare,Ti/_/UI/FontWidget,Ti/_/dom,Ti/UI,Ti/_/style,Ti/_/lang".split(","),function(k,g,h,e,m,n){var f=m.set,l=require.on;return k("Ti.UI.PickerColumn",g,{constructor:function(){var a=this,b="ontouchstart"in window?"touchend":"click",d=a.domNode,c=a.constants.__values__.rows=[],g=a._upArrow=h.create("div",{className:"TiUIElementGradient",style:{textAlign:"center",position:"absolute",top:0,height:"40px",left:0,right:0,borderBottom:"1px solid #666",fontSize:"28px",cursor:"pointer"},innerHTML:"\u2227"},
d),f=a._titleContainer=h.create("div",{style:{position:"absolute",top:"50%",height:"1em",width:"100%",marginTop:"-0.5em",textAlign:"center"}},d),k=h.create("div",{style:{position:"absolute",top:"40px",bottom:"40px",width:"100%"}},d),d=a._downArrow=h.create("div",{className:"TiUIElementGradient",innerHTML:"\u2228",style:{textAlign:"center",position:"absolute",bottom:"0px",height:"40px",width:"100%",borderTop:"1px solid #666",fontSize:"28px",cursor:"pointer"}},d);a._addStyleableDomNode(f);this._handles=
[l(g,b,function(){var b=c.indexOf(a.selectedRow);a.selectedRow=0<b?c[b-1]:c[c.length-1]}),l(k,b,function(){var b=e.createWindow(),d=e.createView({backgroundColor:"#000",opacity:0,left:0,top:0,right:0,bottom:0}),i=e.createView({width:"75%",height:e.SIZE,backgroundColor:"#fff",layout:e._LAYOUT_CONSTRAINING_VERTICAL,borderRadius:3,opacity:0}),g=0,h=0,j=c.map(function(b){var c=b===a.selectedRow;c&&(g=parseInt(h++));return{title:b.title,hasCheck:c}}),f=e.createTableView({left:5,right:5,top:5,height:10>
j.length?e.SIZE:"70%",data:j}),j=e.createButton({left:5,top:5,right:5,title:"Cancel"});f.addEventListener("singletap",function(d){d.index in c&&(a.selectedRow=c[d.index]);b.close()});j.addEventListener("singletap",function(){b.close()});b._add(d);b._add(i);i._add(f);i._add(j);i._add(e.createView({height:"5px"}));b.open();setTimeout(function(){d.animate({opacity:0.5,duration:200},function(){i.animate({opacity:1,duration:200},function(){f.scrollToIndex(g)})})},30)}),l(d,b,function(){var b=c.indexOf(a.selectedRow);
a.selectedRow=b<c.length-1?c[b+1]:c[0]})]},destroy:function(){event.off(this._handles);g.prototype.destroy.apply(this,arguments)},_setCorners:function(a,b,d){f(this._upArrow,{borderTopLeftRadius:a?d:"0px",borderTopRightRadius:b?d:"0px"});f(this._downArrow,{borderBottomLeftRadius:a?d:"0px",borderBottomRightRadius:b?d:"0px"});this.borderWidth=[0,b?0:1,0,0];this.borderColor="#666"},_defaultWidth:e.SIZE,_defaultHeight:e.SIZE,_preLayout:function(){this._updateContentWidth();this._parentPicker&&this._parentPicker._updateColumnHeights();
return!0},_getContentSize:function(){text=this._titleContainer.innerHTML;return{width:Math.max(this._widestRowWidth+15,100),height:this._tallestRowHeight+15+this._upArrow.clientHeight+this._downArrow.clientHeight}},_widestRowWidth:0,_tallestRowHeight:0,_updateContentWidth:function(){for(var a=0,b=0,d=this.rows.length,c;b<d;)c=this.rows[b++],a=Math.max(a,c._measureText(c.title,c.domNode).width);this._widestRowWidth!==a&&(this._widestRowWidth=a)},_getTallestRowHeight:function(){for(var a=0,b=0,d=this.rows.length;b<
d;b++)var c=this.rows[b],a=Math.max(a,c._measureText(c.title,c.domNode).height);return a},_setTallestRowHeight:function(a){this._tallestRowHeight!==a&&(this._tallestRowHeight=a,this._triggerLayout())},addRow:function(a){this.rows.push(a);a._parentColumn=this;this._updateContentWidth();this._parentPicker&&this._parentPicker._updateColumnHeights();this.selectedRow||(this.selectedRow=a);this._publish(a)},removeRow:function(a){var b=this.rows.indexOf(a);-1!==b&&(this.rows.splice(b,1),a._parentColumn=
void 0,this._updateContentWidth(),this._parentPicker&&this._parentPicker._updateColumnHeights(),this.selectedRow===a&&(this.selectedRow=this.rows[0]));this._unpublish(a)},constants:{rowCount:{get:function(){return this.rows.length}},rows:void 0},properties:{selectedRow:{set:function(a){if(a){if(-1===this.rows.indexOf(a))return;this.font=a.font;this.color=n.val(a.color,"");this._titleContainer.innerHTML=a.title}else this.color=this.font=void 0,this._titleContainer.innerHTML="";this._hasSizeDimensions()&&
this._triggerLayout();return a},post:function(a){this.fireEvent("change",{column:this,rowIndex:this.rows.indexOf(a),row:a,value:a&&a.title})}}}})});