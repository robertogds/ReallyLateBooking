(function(){var a,f,g,h;root.editAccountView=Titanium.UI.createView({backgroundColor:"transparent"});root.editAccountTable=Titanium.UI.createTableView({top:20,height:176,width:"95%",borderWidth:0,borderRadius:10,scrollable:!1,moving:!1,backgroundColor:"#fff"});root.firstNameText=Titanium.UI.createTextField({width:"90%",height:"90%",backgroundColor:"#fff",color:"#336699",hintText:Ti.Locale.getString("firstName"),clearOnEdit:!0,paddingLeft:10,returnKeyType:Titanium.UI.RETURNKEY_NEXT});root.firstNameText.addEventListener("return",
function(){return root.lastNameText.focus()});root.lastNameText=Titanium.UI.createTextField({width:"90%",height:"90%",backgroundColor:"#fff",color:"#336699",hintText:Ti.Locale.getString("lastName"),clearOnEdit:!0,paddingLeft:10,returnKeyType:Titanium.UI.RETURNKEY_NEXT});root.lastNameText.addEventListener("return",function(){return root.passwordText.focus()});root.passwordText=Titanium.UI.createTextField({width:"90%",height:"90%",backgroundColor:"#fff",color:"#336699",hintText:L("password"),paddingLeft:10,
clearOnEdit:!0,passwordMask:!0,returnKeyType:Titanium.UI.RETURNKEY_NEXT});root.passwordText.addEventListener("return",function(){return root.repeatPassText.focus()});root.repeatPassText=Titanium.UI.createTextField({width:"90%",height:"90%",backgroundColor:"#fff",color:"#336699",hintText:L("password"),paddingLeft:10,clearOnEdit:!0,passwordMask:!0});root.repeatPassText.addEventListener("return",function(){return root.repeatPassText.blur()});root.editAccountSection=Titanium.UI.createTableViewSection();
root.editAccountData=[];a=Titanium.UI.createTableViewRow({width:"100%",height:44});f=Titanium.UI.createTableViewRow({width:"100%",height:44});g=Titanium.UI.createTableViewRow({width:"100%",height:44});h=Titanium.UI.createTableViewRow({width:"100%",height:44});a.add(root.firstNameText);f.add(root.lastNameText);g.add(root.passwordText);h.add(root.repeatPassText);root.editAccountSection.add(a);root.editAccountSection.add(f);root.editAccountSection.add(g);root.editAccountSection.add(h);a=(new root.GenericButton(250,
Ti.Locale.getString("send"))).button;a.addEventListener("click",function(){return root.submitEdit()});root.editAccountView.add(a);root.editAccountWindow.add(root.editAccountView);root.loadEditLoggedUser=function(){root.hideLoading(root.editAccountWindow);root.firstNameText.value="";root.lastNameText.value="";root.passwordText.value="";root.repeatPassText.value="";root.firstNameText.hintText=L("firstName")+": "+root.user.firstName;root.lastNameText.hintText=L("lastName")+": "+root.user.lastName;root.passwordText.hintText=
L("password")+": *******";root.repeatPassText.hintText=L("repeatPass")+": *******";root.editAccountData[0]=root.editAccountSection;root.editAccountTable.data=root.editAccountData;return root.editAccountView.add(root.editAccountTable)};root.submitEdit=function(){var a,c,d,e,b;a=root.user.email;b=e=root.user.password;c=root.user.firstName;d=root.user.lastName;""!==root.passwordText.value&&(e=Titanium.Utils.md5HexDigest(root.passwordText.value));""!==root.repeatPassText.value&&(b=Titanium.Utils.md5HexDigest(root.repeatPassText.value));
""!==root.firstNameText.value&&(c=root.firstNameText.value);""!==root.lastNameText.value&&(d=root.lastNameText.value);b=root.validateNewAccountData(a,e,c,d,b);return!0===b?(root.showLoading(root.editAccountWindow),root.doRegister(a,e,c,d,root.user.id)):Ti.UI.createAlertDialog({title:"ReallyLateBooking",message:L("reviewData")+": "+b}).show()}}).call(this);