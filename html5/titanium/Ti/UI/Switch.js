define(["Ti/_/declare","Ti/_/UI/FontWidget","Ti/_/css","Ti/_/style","Ti/UI"],function(f,g,d,b,c){var e=b.set,b={post:function(){this.backgroundColor||this.backgroundDisabledColor||this.backgroundDisabledImage||this.backgroundFocusedColor||this.backgroundFocusedImage||this.backgroundImage||this.backgroundSelectedColor||this.backgroundSelectedImage?this._clearDefaultLook():this._setDefaultLook();this._doBackground()}};return f("Ti.UI.Switch",g,{constructor:function(){var a=this._contentContainer=c.createView({width:c.INHERIT,
height:c.INHERIT,layout:c._LAYOUT_CONSTRAINING_VERTICAL,borderColor:"transparent"});this._add(a);a._add(this._switchTitle=c.createLabel({width:c.INHERIT,height:c.INHERIT,verticalAlign:c.TEXT_VERTICAL_ALIGNMENT_CENTER,textAlign:c.TEXT_ALIGNMENT_CENTER}));a._add(this._switchIndicator=c.createView({width:40,height:10,borderRadius:4,borderWidth:1,borderColor:"#888"}));this._setDefaultLook();var b=this;b.addEventListener("singletap",function(){b.value=!b.value});this.value=!1},_setDefaultLook:function(){this._hasDefaultLook||
(this._hasDefaultLook=!0,this._previousBorderWidth=this.borderWidth,this._previousBorderColor=this.borderColor,d.add(this.domNode,"TiUIElementGradient"),d.add(this.domNode,"TiUIButtonDefault"),this._contentContainer.borderWidth=6,this._getBorderFromCSS())},_clearDefaultLook:function(){this._hasDefaultLook&&(this._hasDefaultLook=!1,this.borderWidth=this._previousBorderWidth,this.borderColor=this._previousBorderColor,d.remove(this.domNode,"TiUIElementGradient"),d.remove(this.domNode,"TiUIButtonDefault"),
this._contentContainer.borderWidth=0)},_defaultWidth:c.SIZE,_defaultHeight:c.SIZE,properties:{backgroundColor:b,backgroundDisabledColor:b,backgroundDisabledImage:b,backgroundFocusedColor:b,backgroundFocusedImage:b,backgroundImage:b,backgroundSelectedColor:b,backgroundSelectedImage:b,enabled:{set:function(a,b){a!==b&&(this._hasDefaultLook&&(a?(d.add(this.domNode,"TiUIElementGradient"),e(this.domNode,"backgroundColor","")):(d.remove(this.domNode,"TiUIElementGradient"),e(this.domNode,"backgroundColor",
"#aaa"))),this._setTouchEnabled(a));return a},value:!0},textAlign:{set:function(a){return this._switchTitle.textAlign=a}},titleOff:{set:function(a){this.value||(this._switchTitle.text=a);return a},value:"Off"},titleOn:{set:function(a){this.value&&(this._switchTitle.text=a);return a},value:"On"},value:{set:function(a){this._switchIndicator.backgroundColor=a?"#0f0":"#aaa";a=!!a;this._switchTitle.text=a?this.titleOn:this.titleOff;return a},post:function(){this.fireEvent("change",{value:this.value})}},
verticalAlign:{set:function(a){this._switchTitle.verticalAlign=a},value:c.TEXT_VERTICAL_ALIGNMENT_CENTER}}})});