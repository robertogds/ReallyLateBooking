(function(){var c,d,b,e,f;root.paymentView=Titanium.UI.createView({background:"transparent",borderWidth:0,width:320,top:0});Titanium.UI.createLabel({text:"Introduce los datos de la tarjeta de cr\u00e9dito:",textAlign:"left",width:280,color:"#fff",font:{fontSize:14,fontWeight:"bold"},height:40,top:10});c=Titanium.UI.createImageView({image:"/images/cardTypes200.jpg",top:200});root.cardNumberText=Titanium.UI.createTextField({backgroundColor:"#fff",width:"280",height:"44",color:"#336699",hintText:L("number"),
clearOnEdit:!1,paddingLeft:10,top:15,keyboardType:Titanium.UI.KEYBOARD_NUMBERS_PUNCTUATION,returnKeyType:Titanium.UI.RETURNKEY_NEXT,maxLength:16});root.cardNumberText.addEventListener("return",function(){return root.expireMonthText.focus()});root.expireMonthText=Titanium.UI.createTextField({backgroundColor:"#fff",height:44,width:60,left:20,top:73,color:"#336699",hintText:"MM",paddingLeft:10,clearOnEdit:!1,keyboardType:Titanium.UI.KEYBOARD_NUMBERS_PUNCTUATION,returnKeyType:Titanium.UI.RETURNKEY_NEXT,
maxLength:2});root.expireMonthText.addEventListener("return",function(){return root.expireYearText.focus()});root.expireYearText=Titanium.UI.createTextField({backgroundColor:"#fff",height:44,width:60,left:95,top:73,color:"#336699",hintText:L("expiresYear"),paddingLeft:10,clearOnEdit:!1,keyboardType:Titanium.UI.KEYBOARD_NUMBERS_PUNCTUATION,returnKeyType:Titanium.UI.RETURNKEY_NEXT,maxLength:2});root.expireYearText.addEventListener("return",function(){return root.cvcCodeText.focus()});e=Titanium.UI.createLabel({text:"/",
textAlign:"center",width:20,height:44,color:"white",font:{fontSize:18,fontWeight:"bold"},top:73,left:77});d=Titanium.UI.createImageView({image:"/images/cvcCard.jpg",left:245,top:79});root.cvcCodeText=Titanium.UI.createTextField({backgroundColor:"#fff",height:44,width:65,left:175,top:73,color:"#336699",hintText:"CVC",paddingLeft:10,clearOnEdit:!1,keyboardType:Titanium.UI.KEYBOARD_NUMBERS_PUNCTUATION,returnKeyType:Titanium.UI.RETURNKEY_NEXT,maxLength:3});root.cvcCodeText.addEventListener("return",function(){return root.cardNameText.focus()});
root.cardNameText=Titanium.UI.createTextField({backgroundColor:"#fff",width:"280",height:"44",top:130,color:"#336699",hintText:L("cardName"),clearOnEdit:!1,paddingLeft:10,returnKeyType:Titanium.UI.RETURNKEY_DONE});root.cardNameText.addEventListener("return",function(){root.cardNameText.blur();return root.savePayment()});f=Titanium.UI.createImageView({image:"/images/verisign_secured2.png",top:250});b=(new root.GenericButton(320,L("save"))).button;b.addEventListener("click",function(){return root.savePayment()});
root.savePayment=function(){var a;a=root.validateBookingData();if(!0!==a)return Ti.UI.createAlertDialog({title:"ReallyLateBooking",message:L("reviewData")+": "+a}).show();root.cardType=root.returnCardType(root.cardNumberText.value);a=JSON.stringify({type:root.cardType,number:root.cardNumberText.value,name:root.cardNameText.value,expireMonth:root.expireMonthText.value,expireYear:root.expireYearText.value,cvc:root.cvcCodeText.value});Titanium.App.Properties.setString("creditCard",a);return root.paymentWindow.close()};
root.paymentView.add(f);root.paymentView.add(c);root.paymentView.add(root.cardNumberText);root.paymentView.add(root.cardNameText);root.paymentView.add(root.expireYearText);root.paymentView.add(root.expireMonthText);root.paymentView.add(root.cvcCodeText);root.paymentView.add(e);root.paymentView.add(d);root.paymentView.add(b);root.paymentWindow.add(root.paymentView)}).call(this);