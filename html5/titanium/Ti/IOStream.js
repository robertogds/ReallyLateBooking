define(["Ti/_/declare","Ti/_/Evented","Ti/Buffer","Ti/Filesystem"],function(d,e,f,b){return d("Ti.IOStream",e,{constructor:function(a){a=a||{};this._data=a.data||"";this._mode=a.mode||b.MODE_APPEND},close:function(){this._closed=!0},isReadable:function(){return!this._closed},isWriteable:function(){return!this._closed&&(this._mode===b.MODE_WRITE||this._mode===b.MODE_APPEND)},read:function(a,g,c){if(this.isReadable()){var b=this._data,c=c||b.length,a=a.append(new f({value:b.substring(g||0,c)}));this._data=
b.substring(c);return a}return 0},write:function(a,b,c){return this.isWriteable()?(a=a.value,b|=0,c=c||a.length,this._data+=a.substring(b,c),c-b):0}})});