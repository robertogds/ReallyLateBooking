// Generated by CoffeeScript 1.3.3
(function() {
  var city, cityRow, gpsButton, icon, list, mainCitiesHeader, mainCitiesSection, n, otherCitiesHeader, otherCitiesSection, _i, _j, _len, _len1, _ref, _ref1;

  root.citiesTable = Titanium.UI.createTableView({
    data: [],
    backgroundColor: 'transparent',
    separatorColor: 'transparent'
  });

  root.citiesWindow.add(root.citiesTable);

  icon = Ti.UI.createView({
    backgroundImage: '/icons/gps.png'
  });

  gpsButton = Titanium.UI.createButton({
    title: 'GPS'
  });

  gpsButton.addEventListener('click', function(e) {
    alert(L('gps_location'));
    root.showLoading(root.citiesWindow, L('gps_location'));
    return root.initializeGPS();
  });

  root.citiesWindow.rightNavButton = gpsButton;

  root.citiesData = [];

  n = 0;

  list = {};

  mainCitiesHeader = new root.DealHeaderView(L('main_cities'));

  mainCitiesSection = Ti.UI.createTableViewSection({
    headerView: mainCitiesHeader.view
  });

  otherCitiesHeader = new root.DealHeaderView(L('more_cities'));

  otherCitiesSection = Ti.UI.createTableViewSection({
    headerView: otherCitiesHeader.view
  });

  _ref = root.staticCities;
  for (_i = 0, _len = _ref.length; _i < _len; _i++) {
    city = _ref[_i];
    n++;
    list[n] = city;
    if (n === 3) {
      cityRow = new root.cityRow(list[1], list[2], list[3]);
      root.citiesData.push(cityRow.row);
      n = 0;
      list[1] = null;
      list[2] = null;
      list[3] = null;
    }
  }

  n = 0;

  root.citiesTable.setData(root.citiesData);

  _ref1 = root.staticOtherCities;
  for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
    city = _ref1[_j];
    n++;
    list[n] = city;
    if (n === 3) {
      cityRow = new root.cityRow(list[1], list[2], list[3]);
      otherCitiesSection.add(cityRow.row);
      n = 0;
      list[1] = null;
      list[2] = null;
      list[3] = null;
    }
  }

  root.cell['more'].inactiveView.visible = true;

  root.citiesData.push(otherCitiesSection);

  root.citiesTable.setData(root.citiesData);

}).call(this);
