define(["Ti/_/Evented","Ti/_/lang"],function(l,h){function f(a){if(!b){var c=localStorage.getItem(i);b=require.is(c,"String")&&JSON.parse(c)||{}}return a?b[a]:b}function j(a,c,d){a&&(f(),void 0===d||null===d?delete b[a]:b[a]=e[c]?e[c](d):d,localStorage.setItem(i,JSON.stringify(b)))}var i="ti:properties",e={Bool:function(a){return!!a},Double:function(a){return parseFloat(a)},Int:function(a){return parseInt(a)},List:function(a){return require.is(a,"Array")?a:[a]},Object:function(a){return a},String:function(a){return""+
a}},k,b,g=h.setObject("Ti.App.Properties",l,{hasProperty:function(a){return!!f(a)},listProperties:function(){var a=f(),c=[],d;for(d in a)c.push(d);return c},removeProperty:function(a){j(a)}});for(k in e)(function(a){g["get"+a]=function(c,d){var b=f(c);return void 0===b?h.val(d,null):e[a]?e[a](b):b};g["set"+a]=function(c,b){j(c,a,b)}})(k);return g});