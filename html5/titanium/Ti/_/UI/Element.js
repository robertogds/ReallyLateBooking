define("Ti/_/browser,Ti/_/css,Ti/_/declare,Ti/_/dom,Ti/_/event,Ti/_/lang,Ti/_/style,Ti/_/Evented,Ti/UI,Ti/_/Promise,Ti/_/string".split(","),function(n,A,B,q,t,w,u,v,r){var s=window,C=q.unitize,o=q.computeSize,p=require.on,j=u.set,y=w.isDef,k=require.is,D={webkit:"webkitTransitionEnd",trident:"msTransitionEnd",gecko:"transitionend",presto:"oTransitionEnd"}[n.runtime]||"transitionEnd",E=["ease","ease-in","ease-in-out","ease-out","linear"],n={post:"_doBackground"},z=function(a,b){(null===a||!k(a,"String")&&
!k(a,"Number"))&&(a=void 0);a!==b&&!this._batchUpdateInProgress&&this._triggerLayout();return a},m={set:z},x={pinch:"Pinch",swipe:"Swipe",twofingertap:"TwoFingerTap",doubletap:"DoubleTap",longpress:"LongPress",singletap:"SingleTap",click:"SingleTap",dragging:"Dragging",doubleclick:"DoubleTap",touchstart:"TouchStart",touchend:"TouchEnd",touchmove:"TouchMove",touchcancel:"TouchCancel"};return B("Ti._.UI.Element",v,{domType:null,domNode:null,_alive:1,constructor:function(){function a(a,c){var i,h=c.changedTouches;
if(b._preventDefaultTouchEvent){if(!c.skipPreventDefault)for(i in c.preventDefault&&c.preventDefault(),h)h[i].preventDefault&&h[i].preventDefault()}else c.skipPreventDefault=1;f||require.mix(c,{touches:"mouseup"===c.type?[]:[c],targetTouches:[],changedTouches:[c]});for(i in d)d[i].recognizer["process"+a](c,b);for(i in d)d[i].recognizer["finalize"+a]()}var b=this,c=!1;this.domNode=this._setFocusNode(q.create(this.domType||"div",{className:"TiUIElement "+A.clean(this.declaredClass),"data-widget-id":this.widgetId}));
var d=this._gestureRecognizers={},f="ontouchstart"in s;this._touching=!1;this._children=[];this._disconnectTouchEvent=p(this.domNode,f?"touchstart":"mousedown",function(d){var e=[p(s,f?"touchmove":"mousemove",function(d){c||(c=!0,(f||b._touching)&&a("TouchMoveEvent",d),setTimeout(function(){c=!1},30))}),p(s,f?"touchend":"mouseup",function(d){b._touching=!1;a("TouchEndEvent",d);t.off(e)}),f&&p(s,"touchcancel",function(b){a("TouchCancelEvent",b);t.off(e)})];b._touching=!0;a("TouchStartEvent",d)});p(this,
"touchstart",this,"_doBackground");p(this,"touchend",this,"_doBackground");var h=this.constants.__values__;this._layoutCoefficients={width:{x1:0,x2:0,x3:0},minWidth:{x1:0,x2:0,x3:0},sandboxWidth:{x1:0,x2:0,x3:0},height:{x1:0,x2:0,x3:0},minHeight:{x1:0,x2:0,x3:0},sandboxHeight:{x1:0,x2:0,x3:0},left:{x1:0,x2:0,x3:0},top:{x1:0,x2:0,x3:0,x4:0}};h.size={x:0,y:0,width:0,height:0};h.rect={x:0,y:0,width:0,height:0}},addEventListener:function(a,b){if(a in x){var c=this._gestureRecognizers;a in c||(c[a]={count:0,
recognizer:new (require("Ti/_/Gestures/"+x[a]))(a)});c[a].count++}b&&v.addEventListener.apply(this,arguments)},removeEventListener:function(a){if(a in x){var b=this._gestureRecognizers;a in b&&!--b[a].count&&delete b[a]}v.removeEventListener.apply(this,arguments)},_setParent:function(a){this._parent=a},_add:function(a,b){a._hidden=b;a._setParent(this);this._children.push(a);this.containerNode.appendChild(a.domNode);a._triggerLayout()},_insertAt:function(a,b,c){var d=this._children;b>d.length||0>b||
(b===d.length?this._add(a,c):(a._parent=this,this.containerNode.insertBefore(a.domNode,d[b].domNode),d.splice(b,0,a),this._triggerLayout()))},_remove:function(a){var b=this._children,c=b.indexOf(a);-1!==c&&(b.splice(c,1),a._setParent(),q.detach(a.domNode),this._triggerLayout())},_removeAllChildren:function(){for(var a=this._children;a.length;)this.remove(a[0]);this._triggerLayout()},destroy:function(){if(this._alive){var a=this._children;for(this._disconnectTouchEvent();a.length;)a.splice(0,1)[0].destroy();
this._parent&&this._parent._remove(this);this.domNode&&(q.destroy(this.domNode),this.domNode=null)}v.destroy.apply(this,arguments)},_isAttachedToActiveWin:function(){for(var a=!1,b=this;b;){if(b===r._container){a=!0;break}b=b._parent}return a},_needsMeasuring:!0,_triggerLayout:function(a){this._needsMeasuring=!0;this._isAttachedToActiveWin()&&(!this._batchUpdateInProgress||a)&&r._triggerLayout(this,a)},_hasSizeDimensions:function(){return this._hasSizeWidth()||this._hasSizeHeight()},_hasSizeHeight:function(){return isNaN(this._layoutCoefficients.height.x1)},
_hasSizeWidth:function(){return isNaN(this._layoutCoefficients.width.x1)},startLayout:function(){this._batchUpdateInProgress=!0},finishLayout:function(){this._batchUpdateInProgress=!1;r._triggerLayout(this,!0)},updateLayout:function(a){this.startLayout();for(var b=0,c=a.length;b<c;b++)this[b]=a[b];this.finishLayout()},convertPointToView:function(a,b){function c(a,b,c){for(var g=b.x,b=b.y,c=c?1:-1;a;)g+=c*a.domNode.offsetLeft,b+=c*a.domNode.offsetTop,a=a._parent;return{x:g,y:b}}if(!this._isAttachedToActiveWin()||
!b._isAttachedToActiveWin())return null;if(!a||!k(a.x,"Number")||!k(a.y,"Number"))throw Error("Invalid point");if(!b.domNode)throw Error("Invalid destination view");return c(b,c(this,a,!0),!1)},_getContentOffset:function(){return{x:0,y:0}},_computeGradient:function(){var a=this.backgroundGradient;colors=a.colors;type=a.type;cssVal=type+"-gradient(";var b=o(a.startPoint.x,this._measuredWidth),c=o(a.startPoint.y,this._measuredHeight),d=o("50%",this._measuredWidth),f=o("50%",this._measuredHeight),h=
colors.length;if("linear"===type){var g=o(a.endPoint.x,this._measuredWidth),e=o(a.endPoint.y,this._measuredHeight);if(0.01>Math.abs(b-g))c<e?(d=c,c=e,cssVal+="270deg"):(d=e,cssVal+="90deg");else if(0.01>Math.abs(c-e))b<g?(d=b,c=g,cssVal+="0deg"):(d=g,c=b,cssVal+="180deg");else{a=!1;if(b>g)var a=!0,i=b,b=g,g=i,i=c,c=e,e=i;var l=Math.atan2(e-c,g-b);tanAngle=Math.tan(l);cosAngle=Math.cos(l);originLineIntersection=f-d*tanAngle;userDistance=(c-b*tanAngle-originLineIntersection)*cosAngle;userXOffset=userDistance*
Math.sin(l);userYOffset=userDistance*cosAngle;b+=userXOffset;c-=userYOffset;g+=userXOffset;e-=userYOffset;shiftedAngle=Math.PI/2-l;0<l?(d=originLineIntersection*Math.sin(shiftedAngle),i=-d*Math.cos(shiftedAngle),f=d*Math.sin(shiftedAngle)):(d=(this._measuredHeight-originLineIntersection)*Math.sin(shiftedAngle),i=-d*Math.cos(shiftedAngle),f=this._measuredHeight-d*Math.sin(shiftedAngle));d=Math.sqrt(Math.pow(b-i,2)+Math.pow(c-f,2));c=Math.sqrt(Math.pow(g-i,2)+Math.pow(e-f,2));l=a?l+Math.PI:l;cssVal+=
Math.round(360*(2*Math.PI-l)/(2*Math.PI))+"deg"}for(e=0;e<h;e++)b=colors[e],k(b,"String")&&(b={color:b}),k(b.offset,"Number")||(b.offset=e/(h-1)),cssVal+=","+b.color+" "+Math.round(o(100*b.offset+"%",c-d)+d)+"px"}else if("radial"===type){e=Math.min(this._measuredWidth,this._measuredHeight);g=o(a.startRadius,e);l=o(a.endRadius,e);d=[];a=!1;if(g>l){i=g;g=l;l=i;a=!0;for(e=0;e<=(h-2)/2;e++)i=h-e-1,d[e]=colors[i],d[i]=colors[e];1===h%2&&(e=Math.floor(h/2),d[e]=colors[e])}else for(e=0;e<h;e++)d[e]=colors[e];
cssVal+=b+"px "+c+"px";for(e=0;e<h;e++)b=d[e],k(b,"String")&&(b={color:b}),c=k(b.offset,"Number")?a?1===h%2&&e===Math.floor(h/2)?b.offset:1-b.offset:b.offset:e/(h-1),cssVal+=","+b.color+" "+Math.round(o(100*c+"%",l-g)+g)+"px"}require.config.vendorPrefixes.css.forEach(function(a){j(this.domNode,"backgroundImage",a+cssVal+")")},this)},_preventDefaultTouchEvent:!0,_isGestureBlocked:function(a){var b,c,d;for(b in this._gestureRecognizers)for(d in c=this._gestureRecognizers[b].blocking,c)if(a===c[d])return!0;
return!1},_handleTouchEvent:function(a,b){if(this.enabled){var c,d;k(b.x,"Number")&&k(b.y,"Number")&&(c=r._container.convertPointToView({x:b.x,y:b.y},b.source||this)||{},d=c.x,c=c.y);b.x=d;b.y=c;this.fireEvent(a,b)}},_defaultBackgroundColor:void 0,_defaultBackgroundImage:void 0,_defaultBackgroundDisabledColor:void 0,_defaultBackgroundDisabledImage:void 0,_defaultBackgroundFocusedColor:void 0,_defaultBackgroundFocusedImage:void 0,_defaultBackgroundSelectedColor:void 0,_defaultBackgroundSelectedImage:void 0,
_borderLeftWidth:0,_borderRightWidth:0,_borderTopWidth:0,_borderBottomWidth:0,_getBorderFromCSS:function(){setTimeout(w.hitch(this,function(){var a=s.getComputedStyle(this.domNode),b=parseInt(a["border-left-width"]),c=parseInt(a["border-right-width"]),d=parseInt(a["border-top-width"]),a=parseInt(a["border-bottom-width"]);!isNaN(b)&&!isNaN(c)&&!isNaN(d)&&!isNaN(a)&&(this.borderWidth=b===c&&b===d&&b===a?b:[b,c,d,a])}),1)},_doBackground:function(a){if(!this.backgroundGradient){var a=a||{},b=(a.type||
"").match(/mouse(over|out)/),c=this.backgroundImage||this._defaultBackgroundImage||"none",d=this.backgroundColor||this._defaultBackgroundColor,a=this.backgroundRepeat,f=this.domNode.style;this._touching&&(d=this.backgroundSelectedColor||this._defaultBackgroundSelectedColor||d,c=this.backgroundSelectedImage||this._defaultBackgroundSelectedImage||c);b&&(this._over="over"===b[1]);!this._touching&&this.focusable&&this._over&&(d=this.backgroundFocusedColor||this._defaultBackgroundFocusedColor||d,c=this.backgroundFocusedImage||
this._defaultBackgroundFocusedImage||c);this.enabled||(d=this.backgroundDisabledColor||this._defaultBackgroundDisabledColor||d,c=this.backgroundDisabledImage||this._defaultBackgroundDisabledImage||c);d=d||(c&&"none"!==c?"transparent":"");f.backgroundColor.toLowerCase()!==d.toLowerCase()&&(f.backgroundColor=d);c=u.url(c);f.backgroundImage.replace(/'|"/g,"").toLowerCase()!==c.toLowerCase()&&(f.backgroundImage=c);c&&(b=a?"repeat":"no-repeat",f.backgroundRepeat!==b&&(f.backgroundRepeat=b),b=a?"auto":
"100%",f.backgroundSize.replace(/(100%) 100%/,"$1")!==b&&(f.backgroundSize=b))}},_setFocusNode:function(a){var b=this._focus=this._focus||{};b.node!==a&&(b.node&&(t.off(b.evts),t.off(b.evtsMore)),b.node=a,b.evts=[p(a,"focus",this,"_doBackground"),p(a,"blur",this,"_doBackground")]);return a},show:function(){this.visible=!0},hide:function(){this.visible=!1},animate:function(a,b){if(r._layoutInProgress||!this._isAttachedToActiveWin())p.once(r,"postlayout",w.hitch(this,function(){this._doAnimation(a,
b)}));else this._doAnimation(a,b)},_doAnimation:function(a,b){var a=a||{},c=E[a.curve]||"ease",d=this,f=function(){if(d._parent){var b="";void 0!==a.backgroundColor&&(d.backgroundColor=a.backgroundColor);void 0!==a.opacity&&j(d.domNode,"opacity",a.opacity);j(d.domNode,"display",void 0!==a.visible&&!a.visible?"none":"");"left,top,right,bottom,center,width,height,borderWidth".split(",").every(function(b){return!y(a[b])})||d._parent._layout.calculateAnimation(d,a);!y(a.zIndex)&&j(d.domNode,"zIndex",
a.zIndex);a.transform&&(d._curTransform=d._curTransform?d._curTransform.multiply(a.transform):a.transform,b=d._curTransform.toCSS());j(d.domNode,"transform",b)}};a.duration=a.duration||0;a.delay=a.delay||0;a.transform&&j(d.domNode,"transform","");a.start&&a.start();if(0<a.duration){var h=function(){d._destroyed||(j(d.domNode,"transition",""),k(a.complete,"Function")&&a.complete(),k(b,"Function")&&b.call(d))};u.supports("transition",d.domNode)?(j(d.domNode,"transition","all "+a.duration+"ms "+c+(a.delay?
" "+a.delay+"ms":"")),p.once(s,D,function(){h()})):setTimeout(h,a.duration);setTimeout(f,0)}else f(),k(a.complete,"Function")&&a.complete(),k(b,"Function")&&b.call(d)},_setTouchEnabled:function(a){var b=this._children,c,d=0,f=b.length;for(j(this.domNode,"pointerEvents",a?"auto":"none");d<f;d++)c=b[d],c._setTouchEnabled(a&&c.touchEnabled)},_measuredLeft:0,_measuredTop:0,_measuredWidth:0,_measuredHeight:0,_measuredSandboxWidth:0,_measuredSandboxHeight:0,constants:{size:{get:function(){return{x:0,y:0,
width:this._measuredWidth,height:this._measuredHeight}}},rect:{get:function(){return{x:this._measuredLeft,y:this._measuredTop,width:this._measuredWidth,height:this._measuredHeight}}},parent:function(){return this._parent}},properties:{backgroundColor:n,backgroundDisabledColor:n,backgroundDisabledImage:n,backgroundFocusedColor:n,backgroundFocusedImage:n,backgroundGradient:{set:function(a){if(k(a.type,"String")&&k(a.colors,"Array")&&!(2>a.colors.length)){var b=a.type,c=a.startPoint,d=a.endPoint;if("linear"===
b){if(!c||!("x"in c)||!("y"in c))a.startPoint={x:"0%",y:"50%"};if(!d||!("x"in d)||!("y"in d))a.endPoint={x:"100%",y:"50%"}}else if("radial"===b){if(!c||!("x"in c)||!("y"in c))a.startPoint={x:"50%",y:"50%"}}else return;return a}},post:function(){this.backgroundGradient&&this._computeGradient()}},backgroundImage:n,backgroundRepeat:n,backgroundSelectedColor:n,backgroundSelectedImage:n,borderColor:{set:function(a){j(this.domNode,"borderColor",a);return a}},borderRadius:{set:function(a){j(this.domNode,
"borderRadius",C(a));return a},value:0},borderWidth:{set:function(a,b){if(k(a,"Array")){if(4!==a.length)return b;j(this.domNode,{borderLeftWidth:(this._borderLeftWidth=a[0])+"px",borderRightWidth:(this._borderRightWidth=a[1])+"px",borderTopWidth:(this._borderTopWidth=a[2])+"px",borderBottomWidth:(this._borderBottomWidth=a[3])+"px"})}else{if(isNaN(a))return b;j(this.domNode,"borderWidth",a+"px");this._borderLeftWidth=this._borderRightWidth=this._borderTopWidth=this._borderBottomWidth=a}this._borderSet=
!0;return a},post:z,value:0},bottom:m,center:m,color:{set:function(a){return j(this.domNode,"color",a)}},enabled:{post:"_doBackground",set:function(a){this._focus.node.disabled=!a;return a},value:!0},focusable:{value:!1,set:function(a){q.attr[a?"set":"remove"](this._focus.node,"tabindex",0);return a}},_minHeight:m,_maxHeight:m,height:m,left:m,opacity:{set:function(a){return j(this.domNode,"opacity",a)}},visible:{set:function(a,b){a!==b&&(!a&&(this._lastDisplay=u.get(this.domNode,"display")),j(this.domNode,
"display",a?this._lastDisplay||"":"none"),a&&this._triggerLayout());return a}},right:m,touchEnabled:{set:function(a){this._setTouchEnabled(a);return a},value:!0},top:m,transform:{set:function(a){j(this.domNode,"transform",a.toCSS());return this._curTransform=a}},_minWidth:m,_maxWidth:m,width:m,zIndex:m}})});