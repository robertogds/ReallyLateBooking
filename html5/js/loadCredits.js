(function(){root.xhrLoadCredits=Titanium.Network.createHTTPClient({timeout:15E3});root.xhrLoadCredits.onload=function(){var a,b,c,d,e;Ti.API.info("Entra en load credits OK");root.listCreditsWindow.remove(root.errorView);Ti.API.info(this.responseText);b=JSON.parse(this.responseText);c=[];for(d=0,e=b.length;d<e;d++)a=b[d],a=new root.CreditsRow(a),c.push(a.row);0===c.length?root.noCreditsView.show():root.creditsTable.setData(c);root.creditsTable.footerView=root.footerView;return root.hideLoading(root.listCreditsWindow)};
root.xhrLoadCredits.onerror=function(){Ti.UI.createAlertDialog({title:"ReallyLateBooking",message:L("errorHappened")}).show();root.hideLoading(root.listCreditsWindow);return root.showError(root.listCreditsWindow)};root.xhrLoadCredits.timedout=function(){return Ti.UI.createAlertDialog({title:"ReallyLateBooking",message:L("errorHappened")}).show()};root.showCredits=function(){var a,b;Ti.API.info("Entra en showCredits");root.noCreditsView.hide();root.showLoading(root.listCreditsWindow);b=root.urlSignature("/user/"+
root.user.id+"/coupons");a=root.doSignature(b);root.xhrLoadCredits.open("GET",root.url+(b+"/"+a));root.xhrLoadCredits.setRequestHeader("Accept-Language",Titanium.Locale.currentLanguage);return root.xhrLoadCredits.send()}}).call(this);