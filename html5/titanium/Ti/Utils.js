define(["Ti/_/encoding","Ti/_/Evented","Ti/_/lang","Ti/Blob"],function(r,v,w,s){function t(a,g){for(var b=[],c=0,d=8*a.length;c<d;c+=8)b[c>>5]|=(a.charCodeAt(c/8)&255)<<(g?g-c:c)%32;return b}function x(a,g){for(var b=0,c=4*a.length,d=[];b<c;b++)d.push("0123456789abcdef".charAt(a[b>>2]>>8*((g?g-b:b)%4)+4&15)+"0123456789abcdef".charAt(a[b>>2]>>8*((g?g-b:b)%4)&15));return d.join("")}function A(a,g){a=t(a,24);a[g>>5]|=128<<24-g%32;a[(g+64>>9<<4)+15]=g;return a}function h(a,g){var b=(a&65535)+(g&65535);
return(a>>16)+(g>>16)+(b>>16)<<16|b&65535}function q(a,g){return a<<g|a>>>32-g}function i(a,g,b,c,d,e){return h(q(h(h(g,a),h(c,e)),d),b)}function l(a,g,b,c,d,e,f){return i(g&b|~g&c,a,g,d,e,f)}function n(a,g,b,c,d,e,f){return i(g&c|b&~c,a,g,d,e,f)}function m(a,g,b,c,d,e,f){return i(b^(g|~c),a,g,d,e,f)}function o(a,g){return a>>>g|a<<32-g}function y(a){return a&&"Ti.Blob"===a.declaredClass?a._isBinary?atob(r.utf8encode(a._data)):a._data:a}var B=[1116352408,1899447441,-1245643825,-373957723,961987163,
1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,
883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];return w.setObject("Ti.Utils",v,{base64decode:function(a){return a&&"Ti.Blob"===a.declaredClass&&a._isBinary?a:new s({data:atob(r.utf8encode(a._data||a))})},base64encode:function(a){return a&&"Ti.Blob"===a.declaredClass&&a._isBinary?a:new s({data:r.utf8decode(btoa(a._data||a))})},md5HexDigest:function(a){var a=r.utf8encode(y(a)),g=8*a.length,b=1732584193,
c=-271733879,d=-1732584194,e=271733878,f=0,a=t(a);a[g>>5]|=128<<g%32;a[(g+64>>>9<<4)+14]=g;for(g=a.length;f<g;f+=16)var j=b,C=c,o=d,k=e,b=l(b,c,d,e,a[f+0],7,-680876936),e=l(e,b,c,d,a[f+1],12,-389564586),d=l(d,e,b,c,a[f+2],17,606105819),c=l(c,d,e,b,a[f+3],22,-1044525330),b=l(b,c,d,e,a[f+4],7,-176418897),e=l(e,b,c,d,a[f+5],12,1200080426),d=l(d,e,b,c,a[f+6],17,-1473231341),c=l(c,d,e,b,a[f+7],22,-45705983),b=l(b,c,d,e,a[f+8],7,1770035416),e=l(e,b,c,d,a[f+9],12,-1958414417),d=l(d,e,b,c,a[f+10],17,-42063),
c=l(c,d,e,b,a[f+11],22,-1990404162),b=l(b,c,d,e,a[f+12],7,1804603682),e=l(e,b,c,d,a[f+13],12,-40341101),d=l(d,e,b,c,a[f+14],17,-1502002290),c=l(c,d,e,b,a[f+15],22,1236535329),b=n(b,c,d,e,a[f+1],5,-165796510),e=n(e,b,c,d,a[f+6],9,-1069501632),d=n(d,e,b,c,a[f+11],14,643717713),c=n(c,d,e,b,a[f+0],20,-373897302),b=n(b,c,d,e,a[f+5],5,-701558691),e=n(e,b,c,d,a[f+10],9,38016083),d=n(d,e,b,c,a[f+15],14,-660478335),c=n(c,d,e,b,a[f+4],20,-405537848),b=n(b,c,d,e,a[f+9],5,568446438),e=n(e,b,c,d,a[f+14],9,-1019803690),
d=n(d,e,b,c,a[f+3],14,-187363961),c=n(c,d,e,b,a[f+8],20,1163531501),b=n(b,c,d,e,a[f+13],5,-1444681467),e=n(e,b,c,d,a[f+2],9,-51403784),d=n(d,e,b,c,a[f+7],14,1735328473),c=n(c,d,e,b,a[f+12],20,-1926607734),b=i(c^d^e,b,c,a[f+5],4,-378558),e=i(b^c^d,e,b,a[f+8],11,-2022574463),d=i(e^b^c,d,e,a[f+11],16,1839030562),c=i(d^e^b,c,d,a[f+14],23,-35309556),b=i(c^d^e,b,c,a[f+1],4,-1530992060),e=i(b^c^d,e,b,a[f+4],11,1272893353),d=i(e^b^c,d,e,a[f+7],16,-155497632),c=i(d^e^b,c,d,a[f+10],23,-1094730640),b=i(c^d^
e,b,c,a[f+13],4,681279174),e=i(b^c^d,e,b,a[f+0],11,-358537222),d=i(e^b^c,d,e,a[f+3],16,-722521979),c=i(d^e^b,c,d,a[f+6],23,76029189),b=i(c^d^e,b,c,a[f+9],4,-640364487),e=i(b^c^d,e,b,a[f+12],11,-421815835),d=i(e^b^c,d,e,a[f+15],16,530742520),c=i(d^e^b,c,d,a[f+2],23,-995338651),b=m(b,c,d,e,a[f+0],6,-198630844),e=m(e,b,c,d,a[f+7],10,1126891415),d=m(d,e,b,c,a[f+14],15,-1416354905),c=m(c,d,e,b,a[f+5],21,-57434055),b=m(b,c,d,e,a[f+12],6,1700485571),e=m(e,b,c,d,a[f+3],10,-1894986606),d=m(d,e,b,c,a[f+10],
15,-1051523),c=m(c,d,e,b,a[f+1],21,-2054922799),b=m(b,c,d,e,a[f+8],6,1873313359),e=m(e,b,c,d,a[f+15],10,-30611744),d=m(d,e,b,c,a[f+6],15,-1560198380),c=m(c,d,e,b,a[f+13],21,1309151649),b=m(b,c,d,e,a[f+4],6,-145523070),e=m(e,b,c,d,a[f+11],10,-1120210379),d=m(d,e,b,c,a[f+2],15,718787259),c=m(c,d,e,b,a[f+9],21,-343485551),b=h(b,j),c=h(c,C),d=h(d,o),e=h(e,k);return x([b,c,d,e])},sha1:function(a){var a=r.utf8encode(y(a)),g=1732584193,b=-271733879,c=-1732584194,d=271733878,e=-1009589776,f=0,j,i,l,k=Array(80),
a=A(a,8*a.length);for(l=a.length;f<l;f+=16){var n=g,m=b,o=c,p=d,z=e;for(j=0;80>j;j++){k[j]=16>j?a[f+j]:q(k[j-3]^k[j-8]^k[j-14]^k[j-16],1);i=q(g,5);var u;u=20>j?b&c|~b&d:40>j?b^c^d:60>j?b&c|b&d|c&d:b^c^d;i=h(h(i,u),h(h(e,k[j]),20>j?1518500249:40>j?1859775393:60>j?-1894007588:-899497514));e=d;d=c;c=q(b,30);b=g;g=i}g=h(g,n);b=h(b,m);c=h(c,o);d=h(d,p);e=h(e,z)}return x([g,b,c,d,e],3)},sha256:function(a){var a=r.utf8encode(y(a)),g=1779033703,b=-1150833019,c=1013904242,d=-1521486534,e=1359893119,f=-1694144372,
j=528734635,i=1541459225,l=0,k,n,m,q,p=Array(64),a=A(a,8*a.length);for(n=a.length;l<n;l+=16){var z=g,u=b,s=c,t=d,v=e,w=f,D=j,E=i;for(k=0;64>k;k++)p[k]=16>k?a[l+k]:h(h(h(o(p[k-2],17)^o(p[k-2],19)^p[k-2]>>>10,p[k-7]),o(p[k-15],7)^o(p[k-15],18)^p[k-15]>>>3),p[k-16]),m=h(h(h(h(i,o(e,6)^o(e,11)^o(e,25)),e&f^~e&j),B[k]),p[k]),q=h(o(g,2)^o(g,13)^o(g,22),g&b^g&c^b&c),i=j,j=f,f=e,e=h(d,m),d=c,c=b,b=g,g=h(m,q);g=h(g,z);b=h(b,u);c=h(c,s);d=h(d,t);e=h(e,v);f=h(f,w);j=h(j,D);i=h(i,E)}return x([g,b,c,d,e,f,j,i],
3)}})});